<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>AltGuard Verify</title>
</head>
<body>
  <h1>Vérification de compte</h1>
  <p id="status">Chargement…</p>

  <script>
    // Récupérer le token depuis la query string
    const params = new URLSearchParams(window.location.search);
    const token = params.get('token');

    if (!token) {
      document.getElementById('status').textContent = "Token manquant !";
    } else {
      // Exemple de POST vers ton serveur Python aiohttp
      fetch('https://ton-serveur-python.com/verify/' + token, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          device_id: 'web_' + Math.random().toString(36).substring(2),
          // tu peux ajouter d'autres infos si tu veux
        })
      })
      .then(res => res.text())
      .then(txt => {
        document.getElementById('status').textContent = txt;
      })
      .catch(err => {
        document.getElementById('status').textContent = "Erreur: " + err;
      });
    }
  </script>
</body>
</html>
